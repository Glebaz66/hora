function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}(function(){var a=function(b){return a.utils.extend({},a.plugins,new a.Storage().init(b))};a.version="0.4.4",a.utils={extend:function extend(){for(var a="object"===_typeof(arguments[0])?arguments[0]:{},b=1;b<arguments.length;b++)if(arguments[b]&&"object"===_typeof(arguments[b]))for(var c in arguments[b])a[c]=arguments[b][c];return a},each:function each(a,b,c){if(this.isArray(a)){for(var d=0;d<a.length;d++)if(!1===b.call(c,a[d],d))return;}else if(a)for(var e in a)if(!1===b.call(c,a[e],e))return},tryEach:function tryEach(a,b,c,d){this.each(a,function(a,e){try{return b.call(d,a,e)}catch(b){if(this.isFunction(c))try{c.call(d,a,e,b)}catch(a){}}},this)},registerPlugin:function registerPlugin(b){a.plugins=this.extend(b,a.plugins)},getTypeOf:function getTypeOf(a){return"undefined"==typeof a||null===a?""+a:Object.prototype.toString.call(a).replace(/^\[object\s(.*)\]$/,function(a,b){return b.toLowerCase()})}};for(var b=["Arguments","Boolean","Function","String","Array","Number","Date","RegExp","Undefined","Null"],c=0;c<b.length;c++)a.utils["is"+b[c]]=function(b){return function(c){return a.utils.getTypeOf(c)===b.toLowerCase()}}(b[c]);a.plugins={},a.options=a.utils.extend({namespace:"b45i1",storages:["local","cookie","session","memory"],expireDays:365},window.Basil?window.Basil.options:{}),a.Storage=function(){var b="b45i1"+(Math.random()+1).toString(36).substring(7),c={},d=function(b){var c=a.utils.getTypeOf(b);return"string"===c&&b||"number"===c||"boolean"===c},e=function(b){return a.utils.isArray(b)?b:a.utils.isString(b)?[b]:[]},f=function(b,c){var e="";return d(c)?e+=c:a.utils.isArray(c)&&(c=a.utils.isFunction(c.filter)?c.filter(d):c,e=c.join(".")),e&&d(b)?b+"."+e:e},g=function(a,b){return d(a)?b.replace(new RegExp("^"+a+"."),""):b},h=function(a){return JSON.stringify(a)},i=function(a){return a?JSON.parse(a):null},j={engine:null,check:function check(){try{window[this.engine].setItem(b,!0),window[this.engine].removeItem(b)}catch(a){return!1}return!0},set:function set(a,b){if(!a)throw Error("invalid key");window[this.engine].setItem(a,b)},get:function get(a){return window[this.engine].getItem(a)},remove:function remove(a){window[this.engine].removeItem(a)},reset:function reset(a){for(var b,c=0;c<window[this.engine].length;c++)b=window[this.engine].key(c),a&&0!==b.indexOf(a)||(this.remove(b),c--)},keys:function(a){for(var b,c=[],d=0;d<window[this.engine].length;d++)b=window[this.engine].key(d),a&&0!==b.indexOf(a)||c.push(g(a,b));return c}};return c.local=a.utils.extend({},j,{engine:"localStorage"}),c.session=a.utils.extend({},j,{engine:"sessionStorage"}),c.memory={_hash:{},check:function check(){return!0},set:function set(a,b){if(!a)throw Error("invalid key");this._hash[a]=b},get:function get(a){return this._hash[a]||null},remove:function remove(a){delete this._hash[a]},reset:function reset(a){for(var b in this._hash)a&&0!==b.indexOf(a)||this.remove(b)},keys:function(a){var b=[];for(var c in this._hash)a&&0!==c.indexOf(a)||b.push(g(a,c));return b}},c.cookie={check:function check(){var a=Math.round;if(!navigator.cookieEnabled)return!1;if(window.self!==window.top){var b="thirdparty.check="+a(1e3*Math.random());return document.cookie=b+"; path=/",-1!==document.cookie.indexOf(b)}return!0},set:function set(a,b,c){if(!this.check())throw Error("cookies are disabled");if(c=c||{},!a)throw Error("invalid key");var d=encodeURIComponent(a)+"="+encodeURIComponent(b);if(c.expireDays){var e=new Date;e.setTime(e.getTime()+1e3*(60*(60*(24*c.expireDays)))),d+="; expires="+e.toGMTString()}if(c.domain&&c.domain!==document.domain){var f=c.domain.replace(/^\./,"");if(-1===document.domain.indexOf(f)||1>=f.split(".").length)throw Error("invalid domain");d+="; domain="+c.domain}!0===c.secure&&(d+="; secure"),document.cookie=d+"; path=/"},get:function get(a){if(!this.check())throw Error("cookies are disabled");for(var b,c=encodeURIComponent(a),d=document.cookie?document.cookie.split(";"):[],e=d.length-1;0<=e;e--)if(b=d[e].replace(/^\s*/,""),0===b.indexOf(c+"="))return decodeURIComponent(b.substring(c.length+1,b.length));return null},remove:function remove(a){this.set(a,"",{expireDays:-1});for(var b=document.domain.split("."),c=b.length;0<=c;c--)this.set(a,"",{expireDays:-1,domain:"."+b.slice(-c).join(".")})},reset:function reset(a){for(var b,c,d=document.cookie?document.cookie.split(";"):[],e=0;e<d.length;e++)b=d[e].replace(/^\s*/,""),c=b.substr(0,b.indexOf("=")),a&&0!==c.indexOf(a)||this.remove(c)},keys:function(a){if(!this.check())throw Error("cookies are disabled");for(var b,c,d=[],e=document.cookie?document.cookie.split(";"):[],f=0;f<e.length;f++)b=e[f].replace(/^\s*/,""),c=decodeURIComponent(b.substr(0,b.indexOf("="))),a&&0!==c.indexOf(a)||d.push(g(a,c));return d}},{init:function init(a){return this.setOptions(a),this},setOptions:function setOptions(b){this.options=a.utils.extend({},this.options||a.options,b)},support:function support(a){return c.hasOwnProperty(a)},check:function check(a){return!!this.support(a)&&c[a].check()},set:function set(b,d,g){if(g=a.utils.extend({},this.options,g),!(b=f(g.namespace,b)))return!1;d=!0===g.raw?d:h(d);var i=null;return(a.utils.tryEach(e(g.storages),function(a){return c[a].set(b,d,g),i=a,!1},null,this),!!i)&&(a.utils.tryEach(e(g.storages),function(a){a!==i&&c[a].remove(b)},null,this),!0)},get:function get(b,d){if(d=a.utils.extend({},this.options,d),!(b=f(d.namespace,b)))return null;var g=null;return a.utils.tryEach(e(d.storages),function(a){return null===g&&void(g=c[a].get(b,d)||null,g=!0===d.raw?g:i(g))},function(){g=null},this),g},remove:function remove(b,d){d=a.utils.extend({},this.options,d),(b=f(d.namespace,b))&&a.utils.tryEach(e(d.storages),function(a){c[a].remove(b)},null,this)},reset:function reset(b){b=a.utils.extend({},this.options,b),a.utils.tryEach(e(b.storages),function(a){c[a].reset(b.namespace)},null,this)},keys:function(a){a=a||{};var b=[];for(var c in this.keysMap(a))b.push(c);return b},keysMap:function keysMap(b){b=a.utils.extend({},this.options,b);var d={};return a.utils.tryEach(e(b.storages),function(e){a.utils.each(c[e].keys(b.namespace),function(b){d[b]=a.utils.isArray(d[b])?d[b]:[],d[b].push(e)},this)},null,this),d}}},a.memory=new a.Storage().init({storages:"memory",namespace:null,raw:!0}),a.cookie=new a.Storage().init({storages:"cookie",namespace:null,raw:!0}),a.localStorage=new a.Storage().init({storages:"local",namespace:null,raw:!0}),a.sessionStorage=new a.Storage().init({storages:"session",namespace:null,raw:!0}),window.Basil=a,"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports&&(module.exports=a)})();